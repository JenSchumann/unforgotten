<!DOCTYPE html>
<html ng-app="TitanicApp">
  <head>
    <meta charset="utf-8">
    <title>Unforgotten</title>

    <!-- Favicon  -->
    <link rel="icon" sizes="16x16 24x24 32x32 48x48 64x64" href="../assets/favicon.ico">
    <link rel="apple-touch-icon" sizes="57x57" href="./assets/favicon.ico">

    <!-- Styles -->
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre.min.css">
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-exp.min.css">
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-icons.min.css">

    <link rel="stylesheet" href="./css/main.css">

    <!-- Scripts -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.7/angular.min.js">
    </script>

    <script src="./js/app.js" charset="utf-8"></script>
  </head>
  <body ng-controller="SunkController as lost">

      <div id="categoryChips">


            <span class="chip">
                Name
                <a href="#" ng-click="lost.toggleNameChip();" class="btn btn-clear" aria-label="Close" role="button"></a>
            </span>

            <span class="chip">
                Passenger Class
                <a href="#" ng-click="lost.toggleClassChip();" class="btn btn-clear"aria-label="Close" role="button"></a>
            </span>

            <span class="chip">
                Age
                <a href="#" ng-click="lost.toggleAgeChip();" class="btn btn-clear" aria-label="Close" role="button"></a>
            </span>

            <span class="chip">
                Gender
                <a href="#" ng-click="lost.toggleGenderChip();" class="btn btn-clear" aria-label="Close" role="button"></a>
            </span>

            <span class="chip">
                Survivor
                <a href="#" ng-click="lost.toggleSurvivorChip();" class="btn btn-clear" aria-label="Close" role="button"></a>
            </span>

      </div>

      <h1 class="siteTitle">Titanic</h1><br>
      <h1 class="siteTitle">Passenger Info</h1>
      <br><br>
      <hr>

      <aside class="left">

        <div ng-repeat="(prop, ignored) in lost.victimsList[0]" ng-init="lost.filter[prop] = {}">
          <!-- this is where i need to hide the Name prop -->
          <!-- <h4 ng-hide="{{not sure what to grab here.. tried multiple props[4]..etc.}}"> -->
          <h4 ng-click="lost.toggleView()">
            {{ prop }} <span>({{ filteredVictimsList.length }})</span></h4>
            <div class="victimNames" id="propDisplay" ng-repeat="value in lost.getValuesFor(prop)">
              <label>
                <input type="checkbox" ng-model="lost.filter[prop][value]"/>
                {{value}}
              </label>

            </div>
            <hr>
        </div>

      </aside>


      <div class="tableTitle">
      <h3>Passenger Information</h3><h4>Number of Results: {{ filteredVictimsList.length }}</h4>
      </div>

      <div id="currentSearch" class="container">
        <div class="columns">
              <table class="table table-striped table-hover table-scroll">

              <thead>
                    <tr>
                      <th>Name</th>
                      <th>Class</th>
                      <th>Age</th>
                      <th>Gender</th>
                      <th>Survivor</th>
                    </tr>
              </thead>

              <tbody>
                <tr ng-repeat="victimsList in (lost.victimsList | filter:lost.filterByProperties) as filteredVictimsList">

                        <td class="column col-3 col-mr-auto" id="displayName">{{ victimsList.Name[0].first + " " + victimsList.Name[0].last }}</td>
                        <td class="column col-1" id="displayClass">{{ victimsList.Class }}</td>
                        <td class="column col-1" id="displayAge">{{ victimsList.Age }}</td>
                        <td class="column col-2" id="displayGender">{{ victimsList.Gender }}</td>
                        <td class="column col-2" id="displaySurvival">{{ victimsList.Survivor }}</td>

                      <br>

                </tr>
          </div>
              </tbody>

            </table>
      </div>




  </body>
</html>
